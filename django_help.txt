d1 r1
AbstractBaseUser

### âœ¨ **`AbstractBaseUser` Ú†ÛŒØ³ØªØŸ**

`AbstractBaseUser` ÛŒÚ© **Ú©Ù„Ø§Ø³ Ø§Ù†ØªØ²Ø§Ø¹ÛŒ (abstract class)** Ø§Ø³Øª Ú©Ù‡:

* Ø§Ù…Ú©Ø§Ù†Ø§Øª Ù¾Ø§ÛŒÙ‡â€ŒÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ Ø¨Ù‡ Ø´Ù…Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ (hash Ú©Ø±Ø¯Ù†ØŒ Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø³ÙˆØ±Ø¯ØŒ ØªØºÛŒÛŒØ± Ù¾Ø³ÙˆØ±Ø¯ Ùˆ â€¦).
* Ø®ÙˆØ¯Ø´ Ù‡ÛŒÚ† ÙÛŒÙ„Ø¯ÛŒ Ù…Ø«Ù„ `username` ÛŒØ§ `email` Ù†Ø¯Ø§Ø±Ø¯.
  âœ… ÛŒØ¹Ù†ÛŒ **Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ¯ØªØ§Ù† ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø±Ø§ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒØ¯** (Ù…Ø«Ù„ `email`, `username`, `is_active`, `is_staff`, â€¦).

---

### ğŸ“Œ **Ú†Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø§Ø² `AbstractBaseUser` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŸ**

ÙˆÙ‚ØªÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ÛŒÚ© Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø± Ú©Ø§Ù…Ù„Ø§Ù‹ Ø³ÙØ§Ø±Ø´ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ Ú©Ù‡ Ø­ØªÛŒ ÙÛŒÙ„Ø¯ `username` ÛŒØ§ `email` ÛŒØ§ Ù‡Ø± Ú†ÛŒØ² Ø¯ÛŒÚ¯Ø±ÛŒ Ø±Ø§ Ø®ÙˆØ¯ØªØ§Ù† Ø·Ø±Ø§Ø­ÛŒ Ú©Ù†ÛŒØ¯.
Ù…Ø«Ù„Ø§Ù‹ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ø§ Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ¨Ø§ÛŒÙ„ ÙˆØ§Ø±Ø¯ Ø´ÙˆÙ†Ø¯ ÛŒØ§ Ø§Ø² ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

---

### ğŸ”§ **Ù‚Ø¯Ù…â€ŒÙ‡Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `AbstractBaseUser`:**

#### 1. Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯:

```python
from django.contrib.auth.models import AbstractBaseUser, BaseUserManager, PermissionsMixin
from django.db import models

# Ø§ÙˆÙ„ ÛŒÚ© UserManager Ø³ÙØ§Ø±Ø´ÛŒ
class MyUserManager(BaseUserManager):
    def create_user(self, email, password=None, **extra_fields):
        if not email:
            raise ValueError('Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ…ÛŒÙ„ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯')
        email = self.normalize_email(email)
        user = self.model(email=email, **extra_fields)
        user.set_password(password)
        user.save(using=self._db)
        return user

    def create_superuser(self, email, password=None, **extra_fields):
        extra_fields.setdefault('is_staff', True)
        extra_fields.setdefault('is_superuser', True)
        return self.create_user(email, password, **extra_fields)


# Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø± Ø³ÙØ§Ø±Ø´ÛŒ
class MyUser(AbstractBaseUser, PermissionsMixin):
    email = models.EmailField(unique=True)
    full_name = models.CharField(max_length=200, blank=True)
    is_active = models.BooleanField(default=True)
    is_staff = models.BooleanField(default=False)

    objects = MyUserManager()

    USERNAME_FIELD = 'email'          # Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø§Ø² Ø§ÛŒÙ…ÛŒÙ„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†
    REQUIRED_FIELDS = []              # ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ createsuperuser

    def __str__(self):
        return self.email
```

---

#### 2. Ø¨Ù‡ Ø¬Ù†Ú¯Ùˆ Ø¨Ú¯ÙˆÛŒÛŒØ¯ Ú©Ù‡ Ø§Ø² Ù…Ø¯Ù„ Ø´Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ø¯:

Ø¯Ø± `settings.py` Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:

```python
AUTH_USER_MODEL = 'yourapp.MyUser'
```

---

#### 3. Ù…Ù‡Ø§Ø¬Ø±Øªâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯:

```bash
python manage.py makemigrations
python manage.py migrate
```

---

#### 4. Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯:

```python
# Ø³Ø§Ø®Øª Ú©Ø§Ø±Ø¨Ø± Ø¹Ø§Ø¯ÛŒ
MyUser.objects.create_user(email="test@example.com", password="1234")

# Ø³Ø§Ø®Øª Ø§Ø¯Ù…ÛŒÙ†
MyUser.objects.create_superuser(email="admin@example.com", password="admin123")
```

---

### âœ… Ù†Ú©Ø§Øª Ù…Ù‡Ù…:

âœ”ï¸ Ø§Ú¯Ø± Ø§Ø² `AbstractBaseUser` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒØŒ Ø­ØªÙ…Ø§Ù‹:

* ÛŒÚ© `UserManager` Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø³Ø§Ø².
* `USERNAME_FIELD` Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†.
* ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ù„Ø§Ø²Ù… (`is_active`, `is_staff`, â€¦) Ø±Ø§ Ø®ÙˆØ¯Øª Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†.

âœ”ï¸ Ø§Ú¯Ø± Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ø§ÛŒÙ† Ø³Ø·Ø­ Ø§Ø² Ø³ÙØ§Ø±Ø´ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ù†Ø¯Ø§Ø±ÛŒ Ùˆ ÙÙ‚Ø· Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒ Ú†Ù†Ø¯ ÙÛŒÙ„Ø¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ø§Ø² **`AbstractUser`** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒ Ú†ÙˆÙ† Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ø§Ø³Øª.

-----------------------------------------------------------------------------
d1 r1
### âœ¨ **Manager Ú†ÛŒØ³ØªØŸ**

* ÛŒÚ© Ú©Ù„Ø§Ø³ Ø§Ø³Øª Ú©Ù‡ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø§Ø² `django.db.models.Manager` Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
* Ø±ÙˆÛŒ Ù…Ø¯Ù„ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ùˆ ÙˆØ¸ÛŒÙÙ‡ Ø¯Ø§Ø±Ø¯ Ù…ØªØ¯Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø§Ø² Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙØ±Ø§Ù‡Ù… Ú©Ù†Ø¯.
* Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ Ø³Ø§Ø®Øª ÛŒÚ© Manager Ø³ÙØ§Ø±Ø´ÛŒØŒ QueryÙ‡Ø§ÛŒ Ø®Ø§Øµ Ø®ÙˆØ¯ØªØ§Ù† Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù…ØªØ¯ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯.

---

### âœ… **Manager Ù¾ÛŒØ´â€ŒÙØ±Ø¶**

ÙˆÙ‚ØªÛŒ ÛŒÚ© Ù…Ø¯Ù„ Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒØ¯ØŒ Ø§Ú¯Ø± Manager Ø§Ø®ØªØµØ§ØµÛŒ ØªØ¹Ø±ÛŒÙ Ù†Ú©Ù†ÛŒØ¯ØŒ Ø¬Ù†Ú¯Ùˆ ÛŒÚ© Manager Ø¨Ù‡ Ù†Ø§Ù… `objects` Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒØ¯Ù‡Ø¯:

```python
class Book(models.Model):
    title = models.CharField(max_length=200)
    author = models.CharField(max_length=100)

# Ø§Ø³ØªÙØ§Ø¯Ù‡:
books = Book.objects.all()
```

---

### âœ… **Ø³Ø§Ø®Øª Manager Ø³ÙØ§Ø±Ø´ÛŒ**

Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒØ¯ QueryÙ‡Ø§ÛŒ Ø®Ø§ØµÛŒ Ø±Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ ØµÙˆØ±Øª Ù…ØªØ¯ Ø¢Ù…Ø§Ø¯Ù‡ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ ÛŒÚ© Manager Ø¨Ø³Ø§Ø²ÛŒØ¯:

```python
from django.db import models

class PublishedManager(models.Manager):
    def get_queryset(self):
        # ÙÙ‚Ø· Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ù…Ù†ØªØ´Ø± Ø´Ø¯Ù‡ Ø±Ø§ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†
        return super().get_queryset().filter(is_published=True)
    
    def recent_books(self):
        # ÛŒÚ© Ù…ØªØ¯ Ø§Ø¶Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
        return self.get_queryset().order_by('-created_at')[:5]


class Book(models.Model):
    title = models.CharField(max_length=200)
    is_published = models.BooleanField(default=False)
    created_at = models.DateTimeField(auto_now_add=True)

    # Manager Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø®ÙˆØ¯Ù…Ø§Ù†
    objects = PublishedManager()
```

âœ… Ø­Ø§Ù„Ø§:

```python
# ÙÙ‚Ø· Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ù…Ù†ØªØ´Ø±Ø´Ø¯Ù‡
Book.objects.all()

# ÙÙ‚Ø· Ûµ Ú©ØªØ§Ø¨ Ù…Ù†ØªØ´Ø±Ø´Ø¯Ù‡Ù” Ø¬Ø¯ÛŒØ¯
Book.objects.recent_books()
```

---

### âœ… **Ø¯Ø§Ø´ØªÙ† Ú†Ù†Ø¯ Manager**

Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ú†Ù†Ø¯ÛŒÙ† Manager Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯ØŒ ÙˆÙ„ÛŒ **Ø§ÙˆÙ„ÛŒÙ† Manager** Ú©Ù‡ ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† **Manager Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø±Ø§ÛŒ QuerySet**Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯. Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Manager Ø§ØµÙ„ÛŒ (Ú©Ù‡ Ù‡Ù…Ù‡â€ŒÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯)ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù…Ø«Ù„Ø§Ù‹ ÛŒÚ© Manager Ø¯ÛŒÚ¯Ø± Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:

```python
class Book(models.Model):
    title = models.CharField(max_length=200)
    is_published = models.BooleanField(default=False)

    all_objects = models.Manager()         # Ù‡Ù…Ù‡ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§
    objects = PublishedManager()           # ÙÙ‚Ø· Ù…Ù†ØªØ´Ø±Ø´Ø¯Ù‡â€ŒÙ‡Ø§

-----------------------------------------------------------------------------
d1 r1

def has_perm(self, perm, obj=None):
    return True
ÙˆÙ‚ØªÛŒ ÛŒÚ© Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø± Ø³ÙØ§Ø±Ø´ÛŒ Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒ (Ø¨Ø§ AbstractBaseUser ÛŒØ§ Ø­ØªÛŒ AbstractUser)ØŒ Ø¬Ù†Ú¯Ùˆ Ø¨Ø±Ø§ÛŒ Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ù…ÛŒÚ˜Ù†â€ŒÙ‡Ø§ (Ù…Ø¬ÙˆØ²Ù‡Ø§) Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ù‡ Ø§ÛŒÙ† Ù…ØªØ¯ ØªÙˆÛŒ Ú©Ù„Ø§Ø³ Ú©Ø§Ø±Ø¨Ø±Øª ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡:

Ø§Ú¯Ø± Ø§Ø² AbstractUser Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØŒ Ø®ÙˆØ¯Ø´ has_perm() Ø±Ùˆ Ø§Ø² PermissionsMixin Ø¨Ù‡ Ø§Ø±Ø« Ù…ÛŒâ€ŒØ¨Ø±Ù‡ Ùˆ Ù„Ø§Ø²Ù… Ù†ÛŒØ³Øª Ú©Ø§Ø±ÛŒ Ú©Ù†ÛŒ.
ÙˆÙ„ÛŒ Ø§Ú¯Ø± Ø§Ø² AbstractBaseUser Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ÛŒØŒ Ø®ÙˆØ¯Øª Ø¨Ø§ÛŒØ¯ Ø§ÛŒÙ† Ù…ØªØ¯ Ø±Ùˆ ØªØ¹Ø±ÛŒÙ Ú©Ù†ÛŒ (ÛŒØ§ PermissionsMixin Ø±Ùˆ Ù‡Ù… Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒ ØªØ§ Ø¨Ø±Ø§Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø§Ø´Ù‡).

-----------------------------------------------------------------------------
d1
def has_module_perms(self, app_label):
    # Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ú©Ù„ ÛŒÚ© Ø§Ù¾ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±Ù‡ØŸ
    return True

ÙˆÙ‚ØªÛŒ Ø§Ø² Ø¬Ù†Ú¯Ùˆ Admin ÛŒØ§ Ø³ÛŒØ³ØªÙ… Ù…Ø¬ÙˆØ²Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŒ Ú¯Ø§Ù‡ÛŒ Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ø¨Ø¯ÙˆÙ†ÛŒ:

âœ… Â«Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ú©Ù„ ÛŒÚ© Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø±Ø¯ ÛŒØ§ Ù†Ù‡ØŸÂ»
(Ù†Ù‡ ÙÙ‚Ø· Ø¨Ù‡ ÛŒÚ© Ù…Ø¬ÙˆØ² Ø®Ø§Øµ Ø±ÙˆÛŒ ÛŒÚ© Ù…Ø¯Ù„)

-----------------------------------------------------------------------------
d1 r1

BaseUserManager Ú†ÛŒØ³ØªØŸ
ÙˆÙ‚ØªÛŒ ÛŒÚ© Ù…Ø¯Ù„ Ú©Ø§Ø±Ø¨Ø± Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø§ AbstractBaseUser Ù…ÛŒâ€ŒØ³Ø§Ø²ÛŒØŒ
Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†â€ŒÚ©Ù‡ Ø±Ø§Ø­Øª Ø¨ØªÙˆÙ†ÛŒ Ú©Ø§Ø±Ø¨Ø± Ùˆ Ø³ÙˆÙ¾Ø±ÛŒÙˆØ²Ø± Ø¨Ø³Ø§Ø²ÛŒØŒ Ø¨Ø§ÛŒØ¯ ÛŒÚ© Manager Ø³ÙØ§Ø±Ø´ÛŒ Ù‡Ù… Ø¨Ù†ÙˆÛŒØ³ÛŒ.

Ø§ÛŒÙ† Manager Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ø§Ø² BaseUserManager Ø§Ø±Ø«â€ŒØ¨Ø±ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ú†ÙˆÙ† BaseUserManager ÛŒÚ© Ø³Ø±ÛŒ Ù…ØªØ¯ Ùˆ Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø¨Ù‡Øª Ù…ÛŒâ€ŒØ¯Ù‡.

Ù…Ù‡Ù…â€ŒØªØ±ÛŒÙ†Ø´ Ù…ØªØ¯ normalize_email Ù‡Ø³Øª Ú©Ù‡ Ø®ÙˆØ¯Ø´ Ø§ÛŒÙ…ÛŒÙ„ Ø±Ùˆ ØªÙ…ÛŒØ² Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

Ùˆ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø³Ø§Ø®ØªØ§Ø± Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ create_user Ùˆ create_superuser Ø±Ùˆ ÙØ±Ø§Ù‡Ù… Ù…ÛŒâ€ŒÚ©Ù†Ù‡.

-----------------------------------------------------------------------------

session_10

static 
load static up after extends

-----------------------------------------------------------------------------

session_11

Ø­ØªÙ…Ø§Ù‹! ğŸŒ±
Ø¨ÛŒØ§ÛŒÙ… Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡ Ùˆ Ø¯Ø± Ø¹ÛŒÙ† Ø­Ø§Ù„ Ø¯Ù‚ÛŒÙ‚ Ø¨Ù‡ **Ú©Ù„ÛŒØ¯ Ø®Ø§Ø±Ø¬ÛŒ (ForeignKey)** Ùˆ **related\_name** Ø¯Ø± Ø¬Ù†Ú¯Ùˆ Ù†Ú¯Ø§Ù‡ Ú©Ù†ÛŒÙ….

---

### ğŸ”‘ **Ú©Ù„ÛŒØ¯ Ø®Ø§Ø±Ø¬ÛŒ (ForeignKey)** Ú†ÛŒØ³ØªØŸ

Ø¯Ø± Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¬Ù†Ú¯Ùˆ Ø¨Ø±Ø§ÛŒ ØªØ¹Ø±ÛŒÙ Ø±Ø§Ø¨Ø·Ù‡â€ŒÛŒ **ÛŒÚ©â€ŒØ¨Ù‡â€ŒÚ†Ù†Ø¯ (Oneâ€‘toâ€‘Many)** Ø§Ø² `ForeignKey` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡:

```python
class Category(models.Model):
    name = models.CharField(max_length=100)

class Product(models.Model):
    name = models.CharField(max_length=100)
    category = models.ForeignKey(Category, on_delete=models.CASCADE)
```

âœ… Ù‡Ø± **Product** Ø¨Ù‡ ÛŒÚ© **Category** ÙˆØ§Ø¨Ø³ØªÙ‡ Ø§Ø³Øª.
âœ… ÛŒØ¹Ù†ÛŒ `Product` ÛŒÚ© ÙÛŒÙ„Ø¯ `category` Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ø¨Ù‡ Ù…Ø¯Ù„ `Category` ÙˆØµÙ„ Ø§Ø³Øª.

---

### âœ¨ **Ù¾Ø§Ø±Ø§Ù…ØªØ± `related_name`**

ÙˆÙ‚ØªÛŒ ÛŒÚ© Ú©Ù„ÛŒØ¯ Ø®Ø§Ø±Ø¬ÛŒ ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŒ Ø¬Ù†Ú¯Ùˆ Ø¨Ù‡â€ŒØ·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± ÛŒÚ© **Ø±Ø§Ø¨Ø·Ù‡â€ŒÛŒ Ù…Ø¹Ú©ÙˆØ³** Ù‡Ù… Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯.
ÛŒØ¹Ù†ÛŒ Ø§Ø² Ø±ÙˆÛŒ ÛŒÚ© Ø´ÛŒØ¡ `Category` Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒ Ø¨Ù‡ Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§ØªØ´ Ø¨Ø±Ø³Ù€ÛŒ.

Ø¨Ù‡â€ŒØ·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§Ø³Ù… Ø§ÛŒÙ† Ø±Ø§Ø¨Ø·Ù‡ Ù…Ø¹Ú©ÙˆØ³ Ø¨Ù‡ ØµÙˆØ±Øª `<Ù†Ø§Ù… Ù…Ø¯Ù„ Ú©ÙˆÚ†Ú©>_set` Ø§Ø³Øª.

```python
cat = Category.objects.get(id=1)
cat.product_set.all()   # Ù‡Ù…Ù‡â€ŒÛŒ Ù…Ø­ØµÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
```

ÙˆÙ„ÛŒ Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒ Ø§ÛŒÙ† Ø§Ø³Ù… Ù…Ø¹Ú©ÙˆØ³ Ø±Ø§ Ø®ÙˆØ¯Øª ØªØ¹ÛŒÛŒÙ† Ú©Ù†ÛŒØŒ Ø§Ø² `related_name` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒ:

```python
class Product(models.Model):
    name = models.CharField(max_length=100)
    category = models.ForeignKey(
        Category,
        on_delete=models.CASCADE,
        related_name='products'
    )
```

Ø­Ø§Ù„Ø§:

```python
cat = Category.objects.get(id=1)
cat.products.all()   # Ú†ÙˆÙ† related_name='products'
```

---

### ğŸ”§ **Ù†Ú©Ø§Øª Ù…Ù‡Ù…:**

âœ… `related_name` ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ **Ø±Ø§Ø¨Ø·Ù‡ Ù…Ø¹Ú©ÙˆØ³** Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ Ù†Ù‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø² Ø³Ù…Øª Ú©Ù„ÛŒØ¯ Ø®Ø§Ø±Ø¬ÛŒ.
Ø§Ø² Ø³Ù…Øª Product Ù‡Ù…Ú†Ù†Ø§Ù† Ù…ÛŒâ€ŒÚ¯ÙˆÛŒÛŒ:

```python
product.category
```

âœ… Ø§Ú¯Ø± `related_name` Ø±Ø§ Ù†Ù†ÙˆÛŒØ³ÛŒØŒ Ø¬Ù†Ú¯Ùˆ Ø¨Ù‡â€ŒØ·ÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø§Ø² `<modelname>_set` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

âœ… Ø§Ú¯Ø± Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒ Ø±Ø§Ø¨Ø·Ù‡ Ù…Ø¹Ú©ÙˆØ³ Ø¨Ø³Ø§Ø²ÛŒ (ÛŒØ¹Ù†ÛŒ Ø§Ø² Ø³Ù…Øª Category Ø¨Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø¯Ø³ØªØ±Ø³ÛŒ Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ):

```python
category = models.ForeignKey(
    Category,
    on_delete=models.CASCADE,
    related_name='+'
)
```

---

### ğŸ§­ **Ù…Ø«Ø§Ù„ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒâ€ŒØªØ±**

ÙØ±Ø¶ Ú©Ù† Ù‡Ø± Ù¾Ø³Øª ÙˆØ¨Ù„Ø§Ú¯ Ø¨Ù‡ ÛŒÚ© Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ ÙˆØµÙ„ Ø§Ø³Øª:

```python
class Author(models.Model):
    name = models.CharField(max_length=100)

class Post(models.Model):
    title = models.CharField(max_length=200)
    author = models.ForeignKey(
        Author,
        on_delete=models.CASCADE,
        related_name='posts'
    )
```

Ø­Ø§Ù„Ø§ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒ:

```python
a = Author.objects.get(id=1)
a.posts.all()     # Ù‡Ù…Ù‡â€ŒÛŒ Ù¾Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ† Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡
```
-----------------------------------------------------------------------------

get user:

from .model import user

settings.AUTH_USER_MODEL

from django.contrib.auth import get_user_model

-----------------------------------------------------------------------------

permissions 

intemplates:
perms.<app name>.<access>_<model name>
sample: {{perms.home.add_order}}

in view:
request.user.has_perm(oreders.add_order)

admin:  readonly_fields

disabled add_super_user:

def get_form(self, request, obj=None, **kwargs):
    form = super().get_form(request, obj,  **kwargs)
    is_superuser = request.user.is_superuser
    if not is_superuser:
        form.base_fields["is_superuser"].disabled = True
    return form

-----------------------------------------------------------------------------

 `yield` Ú†ÛŒØ³ØªØŸ

`yield` Ù…Ø§Ù†Ù†Ø¯ `return` Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŒ ÙˆÙ„ÛŒ Ø¨Ù‡â€ŒØ¬Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ **ØªØ§Ø¨Ø¹ Ø±Ø§ Ø¨Ù‡â€ŒØ·ÙˆØ± Ú©Ø§Ù…Ù„ Ø®Ø§ØªÙ…Ù‡ Ø¯Ù‡Ø¯**ØŒ Ø¢Ù† Ø±Ø§ **Ù…Ø¹Ù„Ù‚ Ù†Ú¯Ù‡ Ù…ÛŒâ€ŒØ¯Ø§Ø±Ø¯** Ùˆ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ø² Ù‡Ù…Ø§Ù†â€ŒØ¬Ø§ Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

---

## ğŸ“¦ ØªÙØ§ÙˆØª `yield` Ø¨Ø§ `return`

| `return`                         | `yield`                                                      |
| -------------------------------- | ------------------------------------------------------------ |
| ØªØ§Ø¨Ø¹ Ø±Ø§ Ù…ØªÙˆÙ‚Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯             | ØªØ§Ø¨Ø¹ Ø±Ø§ Ù…ØªÙˆÙ‚Ù Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (ÙÙ‚Ø· Ù…ÙˆÙ‚ØªØ§Ù‹)                           |
| Ù…Ù‚Ø¯Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø§Ø²Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯      | Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ (Ø¯Ø± ÛŒÚ© Ø­Ù„Ù‚Ù‡)                       |
| Ø¨Ø±Ø§ÛŒ ØªÙˆØ§Ø¨Ø¹ Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ | Ø¨Ø±Ø§ÛŒ ØªÙˆØ§Ø¨Ø¹ ØªÙˆÙ„ÛŒØ¯Ú©Ù†Ù†Ø¯Ù‡ (generator) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯             |
| Ø­Ø§ÙØ¸Ù‡â€ŒÛŒ Ø¨ÛŒØ´ØªØ±ÛŒ Ù…ØµØ±Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯       | Ø­Ø§ÙØ¸Ù‡â€ŒÛŒ Ú©Ù…ØªØ±ÛŒ Ù…ØµØ±Ù Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú†ÙˆÙ† Ù…Ù‚Ø§Ø¯ÛŒØ± Ø±Ø§ ÛŒÚ©ÛŒâ€ŒÛŒÚ©ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ |

---

## ğŸ§ª Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡:

```python
def my_gen():
    yield 1
    yield 2
    yield 3

gen = my_gen()
for num in gen:
    print(num)
```

ğŸ”¹ Ø®Ø±ÙˆØ¬ÛŒ:

```
1
2
3
```

---

## âœ… Ú©Ø§Ø±Ø¨Ø±Ø¯Ù‡Ø§ÛŒ `yield`:

* Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø¨Ø¯ÙˆÙ† Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„ Ø¯Ø± Ø­Ø§ÙØ¸Ù‡ (Ù…Ø«Ù„ Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø­Ø¬ÛŒÙ…).
* ØªÙˆÙ„ÛŒØ¯ Ø¨ÛŒâ€ŒÙ†Ù‡Ø§ÛŒØª Ù…Ù‚Ø¯Ø§Ø± (Ù…Ø«Ù„ Ø§Ø¹Ø¯Ø§Ø¯ ÙÛŒØ¨ÙˆÙ†Ø§Ú†ÛŒØŒ Ø§Ø¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„ Ùˆ ...).
* Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒÛŒ Ù…Ø«Ù„ **Ø¬Ø³Øªâ€ŒÙˆØ¬ÙˆÙ‡Ø§ÛŒ lazy**.

---

## ğŸ“Œ Ù…Ø«Ø§Ù„ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒâ€ŒØªØ±: ØªÙˆÙ„ÛŒØ¯ Ø§Ø¹Ø¯Ø§Ø¯ ÙÛŒØ¨ÙˆÙ†Ø§Ú†ÛŒ:

```python
def fibonacci():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b

gen = fibonacci()
for _ in range(10):
    print(next(gen))
```

---

Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ `yield` Ø±Ùˆ ØªÙˆÛŒ Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù…Ø«Ù„ Django ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø§Ø¯Ù‡ Ù‡Ù… Ù†Ø´ÙˆÙ† Ø¨Ø¯Ù…ØŒ Ø¨Ú¯Ùˆ ØªØ§ Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø±Ø§Øª Ø¨Ù†ÙˆÛŒØ³Ù….

-----------------------------------------------------------------------------

 `iter` Ú†ÛŒØ³ØªØŸ

ØªØ§Ø¨Ø¹ Ø¯Ø§Ø®Ù„ÛŒ `iter()` Ø¯Ø± Ù¾Ø§ÛŒØªÙˆÙ† ÛŒÚ© **iterator** Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯ â€” Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ `next()` Ø§Ø² Ø¢Ù† Ø¹Ù†ØµØ± Ø¨Ù‡ Ø¹Ù†ØµØ± Ø¬Ù„Ùˆ Ø¨Ø±ÙˆÛŒØ¯.

---

### ğŸ§± Ù…ÙÙ‡ÙˆÙ… Ù¾Ø§ÛŒÙ‡:

Ø¯Ø± Ù¾Ø§ÛŒØªÙˆÙ†ØŒ Ø³Ø§Ø®ØªØ§Ø±Ù‡Ø§ÛŒÛŒ Ù…Ø§Ù†Ù†Ø¯ `list`, `tuple`, `dict`, `set`, `str` Ù‡Ù…Ú¯ÛŒ **iterable** Ù‡Ø³ØªÙ†Ø¯ØŒ ÛŒØ¹Ù†ÛŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø¯Ø± `for` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ ÛŒØ§ Ø¨Ø§ `iter()` Ø¨Ù‡ Ø´Ú©Ù„ Ø¯Ø³ØªÛŒ Ù¾ÛŒÙ…Ø§ÛŒØ´ Ú©Ø±Ø¯.

---

### âœ… Ù…Ø«Ø§Ù„ Ø³Ø§Ø¯Ù‡:

```python
nums = [10, 20, 30]
it = iter(nums)   # Ø³Ø§Ø®Øª ÛŒÚ© iterator

print(next(it))   # 10
print(next(it))   # 20
print(next(it))   # 30
```

Ø§Ú¯Ø± Ø¯ÙˆØ¨Ø§Ø±Ù‡ `next(it)` Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯ØŒ Ú†ÙˆÙ† Ú†ÛŒØ²ÛŒ Ø¨Ø§Ù‚ÛŒ Ù†Ù…Ø§Ù†Ø¯Ù‡ØŒ Ø®Ø·Ø§ÛŒ `StopIteration` Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

---

## ğŸ§  ØªÙØ§ÙˆØª `iterable` Ùˆ `iterator`

| ÙˆÛŒÚ˜Ú¯ÛŒ      | Iterable                                | Iterator                      |
| ---------- | --------------------------------------- | ----------------------------- |
| ØªØ¹Ø±ÛŒÙ      | Ø´ÛŒâ€ŒØ§ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø§Ø² Ø¢Ù† ÛŒÚ© iterator Ø³Ø§Ø®Øª | Ø´ÛŒâ€ŒØ§ÛŒ Ú©Ù‡ `__next__()` Ø¯Ø§Ø±Ø¯    |
| ØªØ§Ø¨Ø¹ Ú©Ù„ÛŒØ¯ÛŒ | `__iter__()`                            | `__iter__()` Ùˆ `__next__()`   |
| Ù…Ø«Ø§Ù„       | `list`, `tuple`, `str`                  | Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ø§Ø² `iter()` Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ |

---

## âœ³ï¸ Ø³Ø§Ø®Øª iterator Ø³ÙØ§Ø±Ø´ÛŒ:

Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒ ÛŒÚ© Ú©Ù„Ø§Ø³ Ø¨Ù†ÙˆÛŒØ³ÛŒ Ú©Ù‡ Ø®ÙˆØ¯Ø´ Ù…Ø«Ù„ Ù„ÛŒØ³Øª Ú©Ø§Ø± Ú©Ù†Ù‡:

```python
class MyRange:
    def __init__(self, end):
        self.current = 0
        self.end = end

    def __iter__(self):
        return self

    def __next__(self):
        if self.current >= self.end:
            raise StopIteration
        val = self.current
        self.current += 1
        return val

for num in MyRange(5):
    print(num)
```

ğŸ”¹ Ø®Ø±ÙˆØ¬ÛŒ:

```
0
1
2
3
4
```

---

## ğŸ“Œ Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ:

| Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒ...             | Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† Ø§Ø²...            |
| --------------------------- | --------------------------- |
| Ø¹Ù†Ø§ØµØ± Ø±Ø§ ÛŒÚ©ÛŒâ€ŒÛŒÚ©ÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ù†ÛŒ | `iter()` Ùˆ `next()`         |
| Ø­Ø§ÙØ¸Ù‡ Ø±Ø§ Ø¨Ù‡ÛŒÙ†Ù‡ Ù…ØµØ±Ù Ú©Ù†ÛŒ     | `yield`                     |
| Ú©Ù„Ø§Ø³ Ù‚Ø§Ø¨Ù„ Ù¾ÛŒÙ…Ø§ÛŒØ´ Ø¨Ø³Ø§Ø²ÛŒ      | `__iter__()` Ùˆ `__next__()` |

---

Ø§Ú¯Ø± Ø¯ÙˆØ³Øª Ø¯Ø§Ø±ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ `iter()` ÛŒØ§ `yield` Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ù…Ø«Ù„ Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„ØŒ Ø³Ø§Ø®Øª API Ø¨Ø§ Django ÛŒØ§ Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…â€ŒÙ‡Ø§ Ø±Ùˆ Ù‡Ù… Ø¨Ø¯ÙˆÙ†ÛŒØŒ ÙÙ‚Ø· Ø¨Ú¯Ùˆ ØªØ§ Ù…Ø«Ø§Ù„ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ Ø¨Ø±Ø§Øª Ø¨Ø²Ù†Ù….
